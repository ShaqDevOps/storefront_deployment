{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ product.title }} - MeowMart</title>
    <link href="{% static 'product_detail.css' %}" rel="stylesheet">
    <link href="{% static 'product_detail_cart.css' %}" rel="stylesheet">


</head>
<body>
    <header>
        <div class="header-content">
            <img src="{% static 'logo.jpg' %}" alt="MeowMart Logo" class="logo">
            <nav>
                <ul>
                    <li><a href="{% url 'core:Home' %}">Home</a></li>
                    <li><a href="{% url 'store:products_page' %}">Products</a></li>
                    <li><a href="{% url 'core:SignIn' %}">Sign In</a></li>
                    <li><a href="{% url 'core:SignUp-SignUpForm' %}">Create Account</a></li>
                </ul>
            </nav>
            <div class="cart-summary" onclick="toggleCart()">
                <span id="cart-count">0</span> Items
                <!-- You can use an icon here instead of text -->
            </div>
        </div>
        <!-- Cart dropdown that will be toggled -->
        <div id="cart-dropdown" class="cart-dropdown">
            <ul id="cart-items-list">
                <!-- Cart items will be dynamically inserted here -->
            </ul>
        </div>
    </header>
    
    <main>
        <div class="product-gallery">
            <img id="primary-image" src="{{ product.images.first.image.url }}" alt="{{ product.title }}" class="primary-image">
            <div class="thumbnails">
                {% for image in product.images.all %}
                    <img src="{{ image.image.url }}" alt="{{ product.title }}" class="thumbnail-image" onclick="updatePrimaryImage(this)">
                {% endfor %}
            </div>
        </div>
        <div class="product-info">
            <h1>{{ product.title }}</h1>
            <p>{{ product.description }}</p>
            <p>Price: ${{ product.unit_price }}</p>

            <button type="button" onclick="addToCart('{{ product.id }}', 1)">Add to Cart</button>

            <!-- Any other details or related products -->
        </div>
    </main>
    
    <footer>
        <!-- ... same as your homepage footer ... -->
    </footer>

    <script>
        function updatePrimaryImage(thumbnail) {
            var primaryImage = document.getElementById('primary-image');
            primaryImage.src = thumbnail.src;
            // No class change needed for the primary image size
        }
        </script>
        <script src="{% static 'CartFunctions.js' %}"></script> 

</body>
</html>
